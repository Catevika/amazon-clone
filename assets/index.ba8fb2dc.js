var e=Object.defineProperty,a=Object.defineProperties,i=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,c=(a,i,t)=>i in a?e(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t,s=(e,a)=>{for(var i in a||(a={}))r.call(a,i)&&c(e,i,a[i]);if(t)for(var i of t(a))n.call(a,i)&&c(e,i,a[i]);return e},l=(e,t)=>a(e,i(t));import{r as o,j as d,f as m,a as h,L as p,d as u,S as _,b as g,u as v,c as N,F as b,B as y,e as k,R as f,g as S,h as A}from"./vendor.3ee5557a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?a.credentials="include":"anonymous"===e.crossorigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const C=o.exports.createContext(),E=({reducer:e,initialState:a,children:i})=>d(C.Provider,{value:o.exports.useReducer(e,a),children:i}),P=()=>o.exports.useContext(C);m.initializeApp({apiKey:"AIzaSyAG-mV7LZMPz04Qv4JCZ0BWBLAfhZFJ8CA",authDomain:"clone-b8ca1.firebaseapp.com",projectId:"clone-b8ca1",storageBucket:"clone-b8ca1.appspot.com",messagingSenderId:"491121701591",appId:"1:491121701591:web:88454a9b1dbdec5b73b692"}).firestore();const w=m.auth(),L=()=>{const[{basket:e,user:a},i]=P();console.log(e);const t=()=>{a&&w.signOut()};return h("div",{className:"header",children:[d(p,{to:"/",children:d("img",{src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"Amazon logo",className:"header__logo"})}),h("div",{className:"header__search",children:[d("label",{htmlFor:"search",className:"header__search--label"}),d("input",{type:"text",id:"search",placeholder:"Search",className:"header__searchInput"}),d(u,{className:"header__searchIcon"})]}),h("div",{className:"header__nav",children:[d(p,a?{to:"/",children:h("div",{className:"header__option",onClick:t,children:[h("span",{className:"header__optionLineOne",children:["Hello ",`${a.email}`]}),d("span",{className:"header__optionLineTwo",children:"Sign Out"})]})}:{to:"/login",children:h("div",{className:"header__option",onClick:t,children:[d("span",{className:"header__optionLineOne",children:"Hello Guest"}),d("span",{className:"header__optionLineTwo",children:"Sign In"})]})}),h("div",{className:"header__option",children:[d("span",{className:"header__optionLineOne",children:"Returns"}),d("span",{className:"header__optionLineTwo",children:" & Orders"})]}),h("div",{className:"header__option",children:[d("span",{className:"header__optionLineOne",children:"Your"}),d("span",{className:"header__optionLineTwo",children:"Prime"})]}),d(p,{to:"/checkout",children:h("div",{className:"header__optionBasket",children:[d(_,{}),d("span",{className:"header__optionLineTwo header__basketCount",children:e.length})]})})]})]})};const O=({id:e,title:a,price:i,rating:t,image:r})=>{const[{basket:n},c]=P();return h("div",{className:"product",children:[h("div",{className:"product__info",children:[d("p",{children:a}),h("p",{className:"product__price",children:[d("small",{children:"$"}),d("strong",{children:i})]}),d("div",{className:"product__rating",children:Array(t).fill().map(((e,a)=>d("p",{children:d(g,{})},a)))})]}),d("img",{src:r,alt:`${a} Book cover`}),d("button",{onClick:()=>{c({type:"ADD_TO_BASKET",item:{id:e,title:a,image:r,price:i,rating:t}})},children:"Add to Basket"})]})};const I=()=>d("div",{className:"home",children:h("div",{className:"home__container",children:[d("img",{src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:"Amazon Prime Video banner",className:"home__image"}),h("div",{className:"home__row",children:[d(O,{id:"123456",title:"The Lean Startup",price:"29.99",image:"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._AC_SY400_.jpg",rating:4}),d(O,{id:"23457",title:"KitchenAid, KSM3316XCA Mini Stand Mixer, Candy Apple Red",price:"499.00",image:"https://m.media-amazon.com/images/I/818Ow7Awb7L._AC_UY218_.jpg",rating:5})]}),h("div",{className:"home__row",children:[d(O,{id:"345678",title:"Activity Tracker",price:"8.99",image:"https://m.media-amazon.com/images/I/71CI0+oAMlS._AC_UX569_.jpg",rating:3}),d(O,{id:"345693",title:"Echo Dot - 3rd Generation Speaker",price:"21.99",image:"https://m.media-amazon.com/images/I/61IxWv3ecpL._AC_UY218_.jpg",rating:4}),d(O,{id:"345756",title:'Samsung Galaxy Tab A 8.0" 4G LTE',price:"184.00",image:"https://m.media-amazon.com/images/I/51RScDZUEfL._AC_SL1000_.jpg",rating:3})]}),d("div",{className:"home__row",children:d(O,{id:"5645892",title:'30" Sceptre Curved 21:9 Gaming LED Monitor, UltraWide,Ultra Slim, HDMI DisplayPort, Build-in Speakers\r ',price:"246.03",image:"https://m.media-amazon.com/images/I/71hlqZS61bL._AC_SX522_.jpg",rating:5})})]})});const T=({id:e,title:a,price:i,rating:t,image:r})=>{const[{basket:n},c]=P();return h("div",{className:"checkoutProduct",children:[d("img",{src:r,alt:"Product image",className:"checkoutProduct__image"}),h("div",{className:"checkoutProduct__info",children:[d("p",{className:"checkoutProduct__title",children:a}),h("p",{className:"checkoutProduct__price",children:[d("small",{children:"$"}),d("strong",{children:i})]}),d("div",{className:"checkoutProduct__rating",children:d("div",{className:"product__rating",children:Array(t).fill().map(((e,a)=>d("p",{children:d(g,{})},a)))})}),d("button",{onClick:()=>{c({type:"REMOVE_FROM_BASKET",id:e})},children:"Remove from Basket"})]})]})},x=e=>null==e?void 0:e.reduce(((e,a)=>parseFloat(a.price)+e),0);const B=()=>{const e=v(),[{basket:a},i]=P();return h("div",{className:"subtotal",children:[d(N,{renderText:e=>h(b,{children:[h("p",{children:["Subtotal(",null==a?void 0:a.length," items): ",d("strong",{children:e})]}),h("small",{className:"subtotal__gift",children:[d("label",{htmlFor:"checkbox",className:"subtotal__gift--checkbox"}),d("input",{id:"checkbox",type:"checkbox"}),"This order contains a gift"]})]}),decimalScale:2,value:x(a),displayType:"text",thousandSeparator:!0,prefix:"$"}),d("button",{onClick:a=>e.push("/payment"),children:"Proceed to Checkout"})]})};const z=()=>{const[{basket:e,user:a},i]=P();return h("div",{className:"checkout",children:[h("div",{className:"checkout-left",children:[d("img",{src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:"ocean Credit Card Ad banner",className:"checkout__ad"}),h("h3",{children:["Hello ",null==a?void 0:a.email]}),d("h2",{className:"checkout__title",children:"Your Shopping Basket"}),e.map(((e,a)=>d("div",{children:d(T,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})},a)))]}),d("div",{className:"checkout-right",children:d(B,{})})]})};const j=()=>{const e=v(),[a,i]=o.exports.useState(""),[t,r]=o.exports.useState("");return h("div",{className:"login",children:[d(p,{to:"/",children:d("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png"})}),h("div",{className:"login__container",children:[d("h1",{children:"Sign-in"}),h("form",{children:[d("h5",{children:d("label",{htmlFor:"email",children:"E-mail"})}),d("input",{id:"email",type:"text",value:a,placeholder:"john.smith@gmail.com",autoComplete:"user-email",onChange:e=>i(e.target.value)}),d("h5",{children:d("label",{htmlFor:"password",children:"Password"})}),d("input",{id:"password",type:"password",value:t,placeholder:"Your password",autoComplete:"current-password",onChange:e=>r(e.target.value)}),d("button",{type:"submit",onClick:i=>{i.preventDefault(),w.signInWithEmailAndPassword(a,t).then((a=>{a&&e.push("/")})).catch((e=>alert(e.message)))},className:"login__signInButton",children:"Sign In"})]}),d("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),d("button",{onClick:i=>{i.preventDefault(),w.createUserWithEmailAndPassword(a,t).then((a=>{a&&e.push("/")})).catch((e=>alert(e.message)))},className:"login__registerButton",children:"Create your Amazon Account"})]})]})};const M=()=>{const[{basket:e,user:a},i]=P();return d("div",{children:h("div",{className:"payment__container",children:[h("h1",{children:["Checkout:",d(p,{to:"/checkout",children:e.length<=1?` ${e.length} item`:` ${e.length} items`})]}),h("div",{className:"payment__section",children:[d("div",{className:"payment__title",children:d("h3",{children:"Delivery Address"})}),h("div",{className:"payment__address",children:[d("p",{children:null==a?void 0:a.email}),d("p",{children:"123 React Lane"}),d("p",{children:"Los Angeles, CA"})]})]}),h("div",{className:"payment__section",children:[d("div",{className:"payment__title",children:d("h3",{children:"Review items and delivery"})}),d("div",{className:"payment__items",children:e.map(((e,a)=>d(T,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating},a)))})]}),d("div",{className:"payment__section",children:d("div",{className:"payment__title",children:d("h3",{children:"Payment Method"})})})]})})};function D(){const[{},e]=P();return o.exports.useEffect((()=>{w.onAuthStateChanged((a=>{console.log("THE USER IS >>> ",a),e(a?{type:"SET_USER",user:a}:{type:"SET_USER",user:null})}))}),[]),d(y,{children:d("div",{className:"app",children:h(k,{children:[h(f,{exact:!0,path:"/",children:[d(L,{}),d(I,{})]}),d(f,{path:"/login",component:j}),h(f,{path:"/checkout",children:[d(L,{}),d(z,{})]}),h(f,{path:"/payment",children:[d(L,{}),d(M,{})]})]})})})}S.render(d(A.StrictMode,{children:d(E,{initialState:{basket:[],user:null},reducer:(e,a)=>{switch(console.log(a),a.type){case"ADD_TO_BASKET":return l(s({},e),{basket:[...e.basket,a.item]});case"EMPTY_BASKET":return l(s({},e),{basket:[]});case"REMOVE_FROM_BASKET":const i=e.basket.findIndex((e=>e.id===a.id));let t=[...e.basket];return i>=0?t.splice(i,1):console.warn(`Cant remove product (id: ${a.id}) as its not in basket!`),l(s({},e),{basket:t});case"SET_USER":return l(s({},e),{user:a.user});default:return e}},children:d(D,{})})}),document.getElementById("root"));
